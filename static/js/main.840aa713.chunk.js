(this.webpackJsonpexpense_tracker=this.webpackJsonpexpense_tracker||[]).push([[0],{26:function(e,t,c){},27:function(e,t,c){},47:function(e,t,c){"use strict";c.r(t);var a=c(1),n=c.n(a),s=c(21),i=c.n(s),o=(c(26),c(12)),r=c(10),l=c(2),d=(c(27),c(0));var j=function(e){var t=e.expenseData,c=e.toggleCardDetail,a="expense"==t.category?"expense-background":"income-background";return Object(d.jsxs)("div",{className:"expense-card ".concat(a),onClick:function(){console.log(t),c(t)},children:[Object(d.jsxs)("div",{className:"expense-card-value",children:["\u20b9 ",t.expense.toLocaleString("en-IN")]}),Object(d.jsxs)("div",{className:"expense-card-subtitle",children:[t.type&&Object(d.jsx)("div",{className:"expense-card-type",children:t.type}),Object(d.jsxs)("div",{children:[Object(d.jsx)("div",{className:"expense-card-date",children:new Date(t.at).toLocaleString("en-IN",{hour:"2-digit",minute:"2-digit"})}),Object(d.jsx)("div",{className:"expense-card-date",children:new Date(t.at).toLocaleString("en-IN",{year:"numeric",month:"numeric",day:"numeric"})})]})]})]})},u=c(5),b=c.n(u),p=c(4),m={baseUrl:"https://arcane-wave-10684.herokuapp.com"};var O=function(e){var t=e.changeLoggedInTrue,c=Object(p.useState)(""),a=Object(l.a)(c,2),n=a[0],s=a[1],i=Object(p.useState)(""),o=Object(l.a)(i,2),r=o[0],j=o[1],u=Object(p.useState)(""),O=Object(l.a)(u,2),h=O[0],x=O[1],g=Object(p.useState)(!1),v=Object(l.a)(g,2),f=v[0],N=v[1],w=Object(p.useState)(),S=Object(l.a)(w,2),k=S[0],y=S[1],C=Object(p.useState)({}),I=Object(l.a)(C,2),D=I[0],L=I[1],E=Object(p.useState)(!1),T=Object(l.a)(E,2),M=T[0],A=T[1],B="".concat(m.baseUrl,"/auth");return Object(d.jsxs)("div",{className:"app-container login-card-container",children:[f&&Object(d.jsx)("div",{className:"error-bar",children:k}),Object(d.jsxs)("div",{className:"login-card",children:[Object(d.jsxs)("div",{className:"login-header",children:[M?"Register":"Login",M&&Object(d.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",onClick:function(){A(!1)},children:Object(d.jsx)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})})]}),Object(d.jsxs)("div",{className:"login-input",children:[M&&Object(d.jsx)("input",{placeholder:"Email",onChange:function(e){x(e.target.value)}}),Object(d.jsx)("input",{placeholder:"User",onChange:function(e){s(e.target.value)}}),Object(d.jsx)("input",{placeholder:"Password",type:"password",onChange:function(e){j(e.target.value)}}),!M&&Object(d.jsx)("div",{className:"register-btn",onClick:function(){A(!0)},children:"New user?"}),Object(d.jsx)("div",{className:"go-btn",onClick:function(){n&&r&&!M?(!function(e,t){var c="".concat(B,"/login"),a={user:e,password:t};b.a.post(c,a).then((function(e){console.log(e.data),e.data.id?(localStorage.setItem("userID",e.data.id),localStorage.setItem("userEmail",e.data.email),L(e.data)):(y(e.data.message),N(!0))}))}(n,r),D.id&&(N(!1),t(D))):n&&r&&h&&M?function(e,t,c){var a="".concat(B,"/register"),n={user:e,password:t,email:c};b.a.post(a,n).then((function(e){"success"==e.data.message?A(!1):(y(e.data.message),N(!0))}))}(n,r,h):(y("Please fill out the details"),N(!0))},children:"Go"})]})]})]})};var h=function(e){var t=e.updateExpenses,c=e.loggOutUser,n=Object(a.useState)([]),s=Object(l.a)(n,2),i=s[0],o=s[1],j=Object(a.useState)(),u=Object(l.a)(j,2),b=u[0],p=u[1],m=Object(a.useState)(),O=Object(l.a)(m,2),h=O[0],x=O[1],g=Object(a.useState)(0),v=Object(l.a)(g,2),f=v[0],N=v[1],w=Object(a.useState)(["Grocery","Home"]),S=Object(l.a)(w,2),k=S[0],y=S[1],C=Object(a.useState)(),I=Object(l.a)(C,2),D=I[0],L=I[1],E=function(e,t){return e==f?t:"".concat(t," not-selected")};return Object(d.jsxs)("div",{className:"modal",children:[0==f&&Object(d.jsxs)("div",{className:"modal-form",children:[Object(d.jsxs)("div",{className:"modal-type-dropdown",children:[Object(d.jsx)("label",{children:"Type"}),Object(d.jsxs)("select",{onChange:function(e){p(e.target.value)},children:[Object(d.jsx)("option",{value:null,children:"Choose Option"}),k.map((function(e){return Object(d.jsx)("option",{value:e,children:e})}))]})]}),Object(d.jsxs)("div",{className:"modal-amount-input",children:[Object(d.jsx)("label",{children:"Amount"}),Object(d.jsx)("input",{type:"number",placeholder:"69.99",onChange:function(e){x(parseInt(e.target.value))}})]}),Object(d.jsxs)("div",{className:"modal-split",children:[Object(d.jsx)("label",{children:"Split"}),Object(d.jsx)("input",{type:"number",placeholder:"Split between",onChange:function(e){if(e.target.value>0&&e.target.value<10){var t=new Array(parseInt(e.target.value)).fill(0);o(t)}}}),i.map((function(e,t){return Object(d.jsx)("input",{type:"text",placeholder:"Name",onChange:function(e){var c=i;c[t]={name:e.target.value,paid:!1},o(c)}})}))]}),Object(d.jsxs)("div",{className:"modal-options",children:[Object(d.jsx)("div",{className:"modal-option modal-option-left expense-background",onClick:function(){console.log("Ammount:".concat(h," Type:").concat(b));var e={expense:h,type:b,at:Date.now(),split:i[0]?i:0,category:"expense"};t(e)},children:"-"}),Object(d.jsx)("div",{className:"modal-option modal-option-right income-background",onClick:function(){console.log("Ammount:".concat(h," Type:").concat(b," Split:").concat(i));var e={expense:h,type:b,at:Date.now(),split:i[0]?i:0,category:"income"};t(e)},children:"+"})]})]}),1==f&&Object(d.jsxs)("div",{className:"edit-modal",children:[Object(d.jsx)("label",{children:"Add New Category"}),Object(d.jsx)("input",{type:"text",placeholder:"Home",onChange:function(e){L(e.target.value)}}),Object(d.jsx)("div",{className:"edit-modal-cta",onClick:function(){y([].concat(Object(r.a)(k),[D])),N(0)},children:"Add"}),Object(d.jsx)("div",{className:"logout-cta",onClick:function(){localStorage.removeItem("userID"),localStorage.removeItem("userEmail"),c()},children:"Log out"})]}),Object(d.jsxs)("div",{class:"modal-submenu",children:[Object(d.jsx)("div",{className:E(0,"submenu-opt1"),onClick:function(){N(0)},children:Object(d.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(d.jsx)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),Object(d.jsx)("div",{className:E(1,"submenu-opt2"),onClick:function(){N(1)},children:Object(d.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(d.jsx)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})})})]})]})};var x=function(e){var t=e.detail,c=e.updateSplit,a="income"==t.category?" border-green":" border-red";return Object(d.jsx)("div",{className:"card-detail-container",children:Object(d.jsxs)("div",{className:"card-detail-card",children:[Object(d.jsxs)("div",{className:"".concat(a," card-detail-titlebar"),children:[Object(d.jsx)("div",{class:"card-detail-title",children:t.category}),Object(d.jsxs)("div",{class:"card-detail-expense",children:["\u20b9 ",t.expense]})]}),Object(d.jsxs)("div",{className:"card-detail-date-row ".concat(a),children:[Object(d.jsx)("div",{children:new Date(t.at).toLocaleString("en-IN",{year:"numeric",month:"numeric",day:"numeric"})}),new Date(t.at).toLocaleString("en-IN",{hour:"numeric",minute:"numeric",hour12:!0})]}),t.split[0]?Object(d.jsx)("div",{className:"card-detail-splits ".concat(a),children:t.split.map((function(e,a){return Object(d.jsxs)("div",{className:e.paid?"split-strikethrough split-detail":"split-detail",onClick:function(){c(t,a)},children:[Object(d.jsx)("div",{children:e.name}),Object(d.jsxs)("div",{className:"split-value",children:["\u20b9 ",t.expense/t.split.length]})]})}))}):Object(d.jsx)(d.Fragment,{}),Object(d.jsxs)("div",{className:"card-detail-tags",children:[Object(d.jsx)("div",{class:"card-detail-tag tag-color-primary",children:t.type}),t.split.length>1&&Object(d.jsxs)("div",{class:"card-detail-tag tag-color-split",children:["Split x",t.split.length]}),Object(d.jsx)("div",{class:"card-detail-tag tag-color-date",children:new Date(t.at).toLocaleString("en-IN",{weekday:"short"})})]})]})})};var g=function(){var e=Object(a.useState)(!1),t=Object(l.a)(e,2),c=t[0],n=t[1],s=Object(a.useState)(!1),i=Object(l.a)(s,2),u=i[0],p=i[1],g=Object(a.useState)(),v=Object(l.a)(g,2),f=v[0],N=v[1],w=Object(a.useState)(0),S=Object(l.a)(w,2),k=S[0],y=S[1],C=Object(a.useState)(0),I=Object(l.a)(C,2),D=(I[0],I[1],Object(a.useState)({})),L=Object(l.a)(D,2),E=L[0],T=L[1],M=Object(a.useState)([]),A=Object(l.a)(M,2),B=A[0],F=A[1];Object(a.useEffect)((function(){z()}),[u]),Object(a.useEffect)((function(){y(P(B))}),[B]),Object(a.useEffect)((function(){var e={id:localStorage.getItem("userID"),email:localStorage.getItem("userEmail")};e.id&&(N(e),p(!0))}),[]);var U="".concat(m.baseUrl,"/expenses"),H=function(){var e=0;return B.map((function(t){t.split[0]&&t.split[0].name&&t.split.map((function(c){c.paid&&(e+=t.expense/t.split.length)}))})),e},P=function(e){var t=0;return e.map((function(e){"income"==e.category&&(t+=e.expense)})),t},_=function(e){var t=0;return e.map((function(e){"expense"==e.category&&(t+=e.expense)})),t},z=function(){f&&b.a.get("".concat(U,"/user/").concat(f.id)).then((function(e){var t=e.data.expenses;F(t)}))},G=function(){n(!1),p(!1)},J=function(e,t){e.split[t].paid=!e.split[t].paid,b.a.post("".concat(U,"/update"),e).then((function(t){if("success"==t.data.message){var c=B.map((function(t){return t._id==e._id?e:t}));F(c)}}))},R=function(e){F([].concat(Object(r.a)(B),[e]));var t=Object(o.a)(Object(o.a)({},e),{},{user:f.id});b.a.post("".concat(U,"/post"),{uploadExpense:t}).then((function(e){return console.log(e)})),n(!c)},V=function(e){T(e)},q=function(){return Object(d.jsxs)("div",{className:"app-container",children:[E.expense&&Object(d.jsx)(x,{detail:E,updateSplit:J}),Object(d.jsx)("div",{className:"recent-cards",children:B.map((function(e){return Object(d.jsx)(j,{expenseData:e,toggleCardDetail:V})}))}),c&&Object(d.jsx)(h,{updateExpenses:R,loggOutUser:G}),Object(d.jsxs)("div",{className:"summary-card",children:[Object(d.jsxs)("div",{className:"total-title",children:["Total",Object(d.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",onClick:function(){n(!c)},children:Object(d.jsx)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v3m0 0v3m0-3h3m-3 0H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})})]}),Object(d.jsxs)("div",{className:"total-value",children:["\u20b9 ",k-_(B)+H()," / \u20b9"," ",k]})]})]})};return Object(d.jsx)(d.Fragment,{children:u?Object(d.jsx)(q,{}):Object(d.jsx)(O,{changeLoggedInTrue:function(e){N(e),p(!0)}})})},v=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,48)).then((function(t){var c=t.getCLS,a=t.getFID,n=t.getFCP,s=t.getLCP,i=t.getTTFB;c(e),a(e),n(e),s(e),i(e)}))};i.a.render(Object(d.jsx)(n.a.StrictMode,{children:Object(d.jsx)(g,{})}),document.getElementById("root")),v()}},[[47,1,2]]]);
//# sourceMappingURL=main.840aa713.chunk.js.map